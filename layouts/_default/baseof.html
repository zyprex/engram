<!DOCTYPE html><!-- https://gohugo.io/templates/base/#define-the-base-template -->
<html>
  <script>
    let loadTime = Date.now();
    let intervid = setInterval(function(){
      if (Date.now()-loadTime > 200) {
        veil.innerHTML="<b>"+(Date.now()-loadTime)+"</b>";
      }
    },1);
  </script>
  {{- partial "head.html" . -}}
  <!-- block can be overridden if need be in  -->
  <title>{{- block "title" . }}{{ .Site.Title }}{{- end }}</title>
<style>
#veil {
  position: fixed;
  top:0;
  left:0;
  z-index:50;
  width:100%;
  height:100%;
  line-height: 100vh;
  background-color: #000000cc;
  color: #ffffff80;
  margin: 0;
  text-align: center;
  font-size: 2rem;
  transition: opacity .15s ease-in;
}
.trans {
  opacity: 0;
  transition: opacity .15s ease-out;
}
</style>
  <body>
    <div id="veil"></div>
    {{- block "header" . }}{{- partial "header.html" . -}}{{- end }}
    <div id="content">
      {{- block "main" . }}{{- end }}
    </div>
    {{- partialCached "nav_bottom.html" . -}}
    {{- partialCached "nav_menu.html" . -}}
    {{- partialCached "footer.html" . -}}
    {{- partialCached "nav_flip.html" . -}}
    <script defer src="/js/script.js"></script>
    {{- with $.Site.Params.backgroundImage -}}
    <script defer src="/js/bg.js"></script>
    {{- end -}}
    <script>
      document.addEventListener("DOMContentLoaded", function(){
        veil.classList.add("trans");
      });
      veil.addEventListener("transitionend", function(){
        veil.hidden = true;
        clearInterval(intervid);
      });
    </script>
  </body>
</html>
